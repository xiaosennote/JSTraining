<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
       #item span{
            display: inline-block;
            min-width: 80px; 
            height: 50px;
            color: white;
            background-color: red;
            text-align: center;
            line-height: 50px;
            margin: 30px 0 0 20px;
       }
    </style>
</head>
<body>
    <input type="text" id="textinput">
    <input type="button"  id="leftin" value="左侧入">
    <input type="button"  id="rightin" value="右侧入">
    <input type="button"  id="leftout" value="左侧出" style="margin-left:30px;">
    <input type="button"  id="rightout" value="右侧出">
    <div id="item">
       
    </div>

    <script>
        var leftin = document.getElementById('leftin');
        var rightin = document.getElementById('rightin');
        var leftout = document.getElementById('leftout');
        var rightout = document.getElementById('rightout');
        var item = document.getElementById('item');

        var num = [];
            //左侧入
            leftin.addEventListener('click',function(){
                if(Check()){
                    var n = Check();
                    num.unshift(n);
                    updata();
                }else{
                    alert("请输入数字！");
                    return;
                }
            },false)
            //右侧入
            rightin.addEventListener('click',function(){
                if(Check()){
                    var n = Check();
                    num.push(n);
                    updata();
                }else{
                    alert("请输入数字！");
                    return;
                }
            },false)
            //左侧出
            leftout.addEventListener('click',function(){
                var d = num.shift();
                alert(d);
                updata();
            },false)
            //右侧出
            rightout.addEventListener('click',function(){
                var d = num.pop();
                alert(d);
                updata();
            },false)
            //点击删除span元素
            item.addEventListener('click',function(m){
				if(m.target.nodeName.toLowerCase()==='span'){
					clickSpan(m.target);
                    num.splice(m.target,1);
                    
				}
			});
        //检查输入
        function Check(){
            var text = document.getElementById("textinput").value;
            var r = /\d/;
            if(text===""){
                alert("请输入");
                return;
            }
            if(r.test(text)){
                return text;
            }else{
                alert("请输入数字");
            }
        }
        //更新显示
        function updata(){
            item.innerHTML = " ";
            for(var i = 0;i <=num.length-1;i++){
                var span = document.createElement('span');
                span.innerHTML = num[i];              
                item.appendChild(span);
            }
        }
        //删除元素
        function clickSpan(target){
			var sp =document.getElementsByTagName('span');
			if(sp.length>0){
				item.removeChild(target);
			}
		}
    </script>
</body>
</html>